<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>Stock Prediction with ML: Feature Engineering &mdash; The Alpha Scientist</title>
  <meta name="author" content="Chad Gray">






  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">


    <link href="https://alphascientist.com/favicon.png" rel="icon">

  <link href="https://alphascientist.com/theme/css/main.css" media="screen, projection"
        rel="stylesheet" type="text/css">

  <link href="//fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic"
        rel="stylesheet" type="text/css">
  <link href="//fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic"
        rel="stylesheet" type="text/css">
</head>

<body>
  <header role="banner"><hgroup>
  <h1><a href="https://alphascientist.com/">The Alpha Scientist</a></h1>
    <h2>Discovering alpha in the stock market using data science</h2>
</hgroup></header>
  <nav role="navigation"><ul class="subscription" data-subscription="rss">
</ul>


<ul class="main-navigation">
      <li><a href="https://alphascientist.com/pages/about.html">About</a></li>
      <li><a href="https://alphascientist.com/pages/consulting.html">Consulting</a></li>
      <li class="active">
        <a href="https://alphascientist.com/category/blog.html">Blog</a>
      </li>
</ul></nav>
  <div id="main">
    <div id="content">
<div>
  <article class="hentry" role="article">
<header>
      <h1 class="entry-title">Stock Prediction with ML: Feature Engineering</h1>
    <p class="meta">
<time datetime="2018-07-09T20:01:00-07:00" pubdate>Mon 09 July 2018</time>    </p>
</header>

  <div class="entry-content"><style type="text/css">/*!
*
* IPython notebook
*
*/
/* CSS font colors for translated ANSI colors. */
.ansibold {
  font-weight: bold;
}
/* use dark versions for foreground, to improve visibility */
.ansiblack {
  color: black;
}
.ansired {
  color: darkred;
}
.ansigreen {
  color: darkgreen;
}
.ansiyellow {
  color: #c4a000;
}
.ansiblue {
  color: darkblue;
}
.ansipurple {
  color: darkviolet;
}
.ansicyan {
  color: steelblue;
}
.ansigray {
  color: gray;
}
/* and light for background, for the same reason */
.ansibgblack {
  background-color: black;
}
.ansibgred {
  background-color: red;
}
.ansibggreen {
  background-color: green;
}
.ansibgyellow {
  background-color: yellow;
}
.ansibgblue {
  background-color: blue;
}
.ansibgpurple {
  background-color: magenta;
}
.ansibgcyan {
  background-color: cyan;
}
.ansibggray {
  background-color: gray;
}
div.cell {
  /* Old browsers */
  display: -webkit-box;
  -webkit-box-orient: vertical;
  -webkit-box-align: stretch;
  display: -moz-box;
  -moz-box-orient: vertical;
  -moz-box-align: stretch;
  display: box;
  box-orient: vertical;
  box-align: stretch;
  /* Modern browsers */
  display: flex;
  flex-direction: column;
  align-items: stretch;
  border-radius: 2px;
  box-sizing: border-box;
  -moz-box-sizing: border-box;
  -webkit-box-sizing: border-box;
  border-width: 1px;
  border-style: solid;
  border-color: transparent;
  width: 100%;
  padding: 5px;
  /* This acts as a spacer between cells, that is outside the border */
  margin: 0px;
  outline: none;
  border-left-width: 1px;
  padding-left: 5px;
  background: linear-gradient(to right, transparent -40px, transparent 1px, transparent 1px, transparent 100%);
}
div.cell.jupyter-soft-selected {
  border-left-color: #90CAF9;
  border-left-color: #E3F2FD;
  border-left-width: 1px;
  padding-left: 5px;
  border-right-color: #E3F2FD;
  border-right-width: 1px;
  background: #E3F2FD;
}
@media print {
  div.cell.jupyter-soft-selected {
    border-color: transparent;
  }
}
div.cell.selected {
  border-color: #ababab;
  border-left-width: 0px;
  padding-left: 6px;
  background: linear-gradient(to right, #42A5F5 -40px, #42A5F5 5px, transparent 5px, transparent 100%);
}
@media print {
  div.cell.selected {
    border-color: transparent;
  }
}
div.cell.selected.jupyter-soft-selected {
  border-left-width: 0;
  padding-left: 6px;
  background: linear-gradient(to right, #42A5F5 -40px, #42A5F5 7px, #E3F2FD 7px, #E3F2FD 100%);
}
.edit_mode div.cell.selected {
  border-color: #66BB6A;
  border-left-width: 0px;
  padding-left: 6px;
  background: linear-gradient(to right, #66BB6A -40px, #66BB6A 5px, transparent 5px, transparent 100%);
}
@media print {
  .edit_mode div.cell.selected {
    border-color: transparent;
  }
}
.prompt {
  /* This needs to be wide enough for 3 digit prompt numbers: In[100]: */
  min-width: 14ex;
  /* This padding is tuned to match the padding on the CodeMirror editor. */
  padding: 0.4em;
  margin: 0px;
  font-family: monospace;
  text-align: right;
  /* This has to match that of the the CodeMirror class line-height below */
  line-height: 1.21429em;
  /* Don't highlight prompt number selection */
  -webkit-touch-callout: none;
  -webkit-user-select: none;
  -khtml-user-select: none;
  -moz-user-select: none;
  -ms-user-select: none;
  user-select: none;
  /* Use default cursor */
  cursor: default;
}
@media (max-width: 540px) {
  .prompt {
    text-align: left;
  }
}
div.inner_cell {
  min-width: 0;
  /* Old browsers */
  display: -webkit-box;
  -webkit-box-orient: vertical;
  -webkit-box-align: stretch;
  display: -moz-box;
  -moz-box-orient: vertical;
  -moz-box-align: stretch;
  display: box;
  box-orient: vertical;
  box-align: stretch;
  /* Modern browsers */
  display: flex;
  flex-direction: column;
  align-items: stretch;
  /* Old browsers */
  -webkit-box-flex: 1;
  -moz-box-flex: 1;
  box-flex: 1;
  /* Modern browsers */
  flex: 1;
}
/* input_area and input_prompt must match in top border and margin for alignment */
div.input_area {
  border: 1px solid #cfcfcf;
  border-radius: 2px;
  background: #f7f7f7;
  line-height: 1.21429em;
}
/* This is needed so that empty prompt areas can collapse to zero height when there
   is no content in the output_subarea and the prompt. The main purpose of this is
   to make sure that empty JavaScript output_subareas have no height. */
div.prompt:empty {
  padding-top: 0;
  padding-bottom: 0;
}
div.unrecognized_cell {
  padding: 5px 5px 5px 0px;
  /* Old browsers */
  display: -webkit-box;
  -webkit-box-orient: horizontal;
  -webkit-box-align: stretch;
  display: -moz-box;
  -moz-box-orient: horizontal;
  -moz-box-align: stretch;
  display: box;
  box-orient: horizontal;
  box-align: stretch;
  /* Modern browsers */
  display: flex;
  flex-direction: row;
  align-items: stretch;
}
div.unrecognized_cell .inner_cell {
  border-radius: 2px;
  padding: 5px;
  font-weight: bold;
  color: red;
  border: 1px solid #cfcfcf;
  background: #eaeaea;
}
div.unrecognized_cell .inner_cell a {
  color: inherit;
  text-decoration: none;
}
div.unrecognized_cell .inner_cell a:hover {
  color: inherit;
  text-decoration: none;
}
@media (max-width: 540px) {
  div.unrecognized_cell > div.prompt {
    display: none;
  }
}
div.code_cell {
  /* avoid page breaking on code cells when printing */
}
@media print {
  div.code_cell {
    page-break-inside: avoid;
  }
}
/* any special styling for code cells that are currently running goes here */
div.input {
  page-break-inside: avoid;
  /* Old browsers */
  display: -webkit-box;
  -webkit-box-orient: horizontal;
  -webkit-box-align: stretch;
  display: -moz-box;
  -moz-box-orient: horizontal;
  -moz-box-align: stretch;
  display: box;
  box-orient: horizontal;
  box-align: stretch;
  /* Modern browsers */
  display: flex;
  flex-direction: row;
  align-items: stretch;
}
@media (max-width: 540px) {
  div.input {
    /* Old browsers */
    display: -webkit-box;
    -webkit-box-orient: vertical;
    -webkit-box-align: stretch;
    display: -moz-box;
    -moz-box-orient: vertical;
    -moz-box-align: stretch;
    display: box;
    box-orient: vertical;
    box-align: stretch;
    /* Modern browsers */
    display: flex;
    flex-direction: column;
    align-items: stretch;
  }
}
/* input_area and input_prompt must match in top border and margin for alignment */
div.input_prompt {
  color: #303F9F;
  border-top: 1px solid transparent;
}
div.input_area > div.highlight {
  margin: 0.4em;
  border: none;
  padding: 0px;
  background-color: transparent;
}
div.input_area > div.highlight > pre {
  margin: 0px;
  border: none;
  padding: 0px;
  background-color: transparent;
}
/* The following gets added to the <head> if it is detected that the user has a
 * monospace font with inconsistent normal/bold/italic height.  See
 * notebookmain.js.  Such fonts will have keywords vertically offset with
 * respect to the rest of the text.  The user should select a better font.
 * See: https://github.com/ipython/ipython/issues/1503
 *
 * .CodeMirror span {
 *      vertical-align: bottom;
 * }
 */
.CodeMirror {
  line-height: 1.21429em;
  /* Changed from 1em to our global default */
  font-size: 14px;
  height: auto;
  /* Changed to auto to autogrow */
  background: none;
  /* Changed from white to allow our bg to show through */
}
.CodeMirror-scroll {
  /*  The CodeMirror docs are a bit fuzzy on if overflow-y should be hidden or visible.*/
  /*  We have found that if it is visible, vertical scrollbars appear with font size changes.*/
  overflow-y: hidden;
  overflow-x: auto;
}
.CodeMirror-lines {
  /* In CM2, this used to be 0.4em, but in CM3 it went to 4px. We need the em value because */
  /* we have set a different line-height and want this to scale with that. */
  padding: 0.4em;
}
.CodeMirror-linenumber {
  padding: 0 8px 0 4px;
}
.CodeMirror-gutters {
  border-bottom-left-radius: 2px;
  border-top-left-radius: 2px;
}
.CodeMirror pre {
  /* In CM3 this went to 4px from 0 in CM2. We need the 0 value because of how we size */
  /* .CodeMirror-lines */
  padding: 0;
  border: 0;
  border-radius: 0;
}
/*

Original style from softwaremaniacs.org (c) Ivan Sagalaev <Maniac@SoftwareManiacs.Org>
Adapted from GitHub theme

*/
.highlight-base {
  color: #000;
}
.highlight-variable {
  color: #000;
}
.highlight-variable-2 {
  color: #1a1a1a;
}
.highlight-variable-3 {
  color: #333333;
}
.highlight-string {
  color: #BA2121;
}
.highlight-comment {
  color: #408080;
  font-style: italic;
}
.highlight-number {
  color: #080;
}
.highlight-atom {
  color: #88F;
}
.highlight-keyword {
  color: #008000;
  font-weight: bold;
}
.highlight-builtin {
  color: #008000;
}
.highlight-error {
  color: #f00;
}
.highlight-operator {
  color: #AA22FF;
  font-weight: bold;
}
.highlight-meta {
  color: #AA22FF;
}
/* previously not defined, copying from default codemirror */
.highlight-def {
  color: #00f;
}
.highlight-string-2 {
  color: #f50;
}
.highlight-qualifier {
  color: #555;
}
.highlight-bracket {
  color: #997;
}
.highlight-tag {
  color: #170;
}
.highlight-attribute {
  color: #00c;
}
.highlight-header {
  color: blue;
}
.highlight-quote {
  color: #090;
}
.highlight-link {
  color: #00c;
}
/* apply the same style to codemirror */
.cm-s-ipython span.cm-keyword {
  color: #008000;
  font-weight: bold;
}
.cm-s-ipython span.cm-atom {
  color: #88F;
}
.cm-s-ipython span.cm-number {
  color: #080;
}
.cm-s-ipython span.cm-def {
  color: #00f;
}
.cm-s-ipython span.cm-variable {
  color: #000;
}
.cm-s-ipython span.cm-operator {
  color: #AA22FF;
  font-weight: bold;
}
.cm-s-ipython span.cm-variable-2 {
  color: #1a1a1a;
}
.cm-s-ipython span.cm-variable-3 {
  color: #333333;
}
.cm-s-ipython span.cm-comment {
  color: #408080;
  font-style: italic;
}
.cm-s-ipython span.cm-string {
  color: #BA2121;
}
.cm-s-ipython span.cm-string-2 {
  color: #f50;
}
.cm-s-ipython span.cm-meta {
  color: #AA22FF;
}
.cm-s-ipython span.cm-qualifier {
  color: #555;
}
.cm-s-ipython span.cm-builtin {
  color: #008000;
}
.cm-s-ipython span.cm-bracket {
  color: #997;
}
.cm-s-ipython span.cm-tag {
  color: #170;
}
.cm-s-ipython span.cm-attribute {
  color: #00c;
}
.cm-s-ipython span.cm-header {
  color: blue;
}
.cm-s-ipython span.cm-quote {
  color: #090;
}
.cm-s-ipython span.cm-link {
  color: #00c;
}
.cm-s-ipython span.cm-error {
  color: #f00;
}
.cm-s-ipython span.cm-tab {
  background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAMCAYAAAAkuj5RAAAAAXNSR0IArs4c6QAAAGFJREFUSMft1LsRQFAQheHPowAKoACx3IgEKtaEHujDjORSgWTH/ZOdnZOcM/sgk/kFFWY0qV8foQwS4MKBCS3qR6ixBJvElOobYAtivseIE120FaowJPN75GMu8j/LfMwNjh4HUpwg4LUAAAAASUVORK5CYII=);
  background-position: right;
  background-repeat: no-repeat;
}
div.output_wrapper {
  /* this position must be relative to enable descendents to be absolute within it */
  position: relative;
  /* Old browsers */
  display: -webkit-box;
  -webkit-box-orient: vertical;
  -webkit-box-align: stretch;
  display: -moz-box;
  -moz-box-orient: vertical;
  -moz-box-align: stretch;
  display: box;
  box-orient: vertical;
  box-align: stretch;
  /* Modern browsers */
  display: flex;
  flex-direction: column;
  align-items: stretch;
  z-index: 1;
}
/* class for the output area when it should be height-limited */
div.output_scroll {
  /* ideally, this would be max-height, but FF barfs all over that */
  height: 24em;
  /* FF needs this *and the wrapper* to specify full width, or it will shrinkwrap */
  width: 100%;
  overflow: auto;
  border-radius: 2px;
  -webkit-box-shadow: inset 0 2px 8px rgba(0, 0, 0, 0.8);
  box-shadow: inset 0 2px 8px rgba(0, 0, 0, 0.8);
  display: block;
}
/* output div while it is collapsed */
div.output_collapsed {
  margin: 0px;
  padding: 0px;
  /* Old browsers */
  display: -webkit-box;
  -webkit-box-orient: vertical;
  -webkit-box-align: stretch;
  display: -moz-box;
  -moz-box-orient: vertical;
  -moz-box-align: stretch;
  display: box;
  box-orient: vertical;
  box-align: stretch;
  /* Modern browsers */
  display: flex;
  flex-direction: column;
  align-items: stretch;
}
div.out_prompt_overlay {
  height: 100%;
  padding: 0px 0.4em;
  position: absolute;
  border-radius: 2px;
}
div.out_prompt_overlay:hover {
  /* use inner shadow to get border that is computed the same on WebKit/FF */
  -webkit-box-shadow: inset 0 0 1px #000;
  box-shadow: inset 0 0 1px #000;
  background: rgba(240, 240, 240, 0.5);
}
div.output_prompt {
  color: #D84315;
}
/* This class is the outer container of all output sections. */
div.output_area {
  padding: 0px;
  page-break-inside: avoid;
  /* Old browsers */
  display: -webkit-box;
  -webkit-box-orient: horizontal;
  -webkit-box-align: stretch;
  display: -moz-box;
  -moz-box-orient: horizontal;
  -moz-box-align: stretch;
  display: box;
  box-orient: horizontal;
  box-align: stretch;
  /* Modern browsers */
  display: flex;
  flex-direction: row;
  align-items: stretch;
}
div.output_area .MathJax_Display {
  text-align: left !important;
}
div.output_area 
div.output_area 
div.output_area img,
div.output_area svg {
  max-width: 100%;
  height: auto;
}
div.output_area img.unconfined,
div.output_area svg.unconfined {
  max-width: none;
}
/* This is needed to protect the pre formating from global settings such
   as that of bootstrap */
.output {
  /* Old browsers */
  display: -webkit-box;
  -webkit-box-orient: vertical;
  -webkit-box-align: stretch;
  display: -moz-box;
  -moz-box-orient: vertical;
  -moz-box-align: stretch;
  display: box;
  box-orient: vertical;
  box-align: stretch;
  /* Modern browsers */
  display: flex;
  flex-direction: column;
  align-items: stretch;
}
@media (max-width: 540px) {
  div.output_area {
    /* Old browsers */
    display: -webkit-box;
    -webkit-box-orient: vertical;
    -webkit-box-align: stretch;
    display: -moz-box;
    -moz-box-orient: vertical;
    -moz-box-align: stretch;
    display: box;
    box-orient: vertical;
    box-align: stretch;
    /* Modern browsers */
    display: flex;
    flex-direction: column;
    align-items: stretch;
  }
}
div.output_area pre {
  margin: 0;
  padding: 0;
  border: 0;
  vertical-align: baseline;
  color: black;
  background-color: transparent;
  border-radius: 0;
}
/* This class is for the output subarea inside the output_area and after
   the prompt div. */
div.output_subarea {
  overflow-x: auto;
  padding: 0.4em;
  /* Old browsers */
  -webkit-box-flex: 1;
  -moz-box-flex: 1;
  box-flex: 1;
  /* Modern browsers */
  flex: 1;
  max-width: calc(100% - 14ex);
}
div.output_scroll div.output_subarea {
  overflow-x: visible;
}
/* The rest of the output_* classes are for special styling of the different
   output types */
/* all text output has this class: */
div.output_text {
  text-align: left;
  color: #000;
  /* This has to match that of the the CodeMirror class line-height below */
  line-height: 1.21429em;
}
/* stdout/stderr are 'text' as well as 'stream', but execute_result/error are *not* streams */
div.output_stderr {
  background: #fdd;
  /* very light red background for stderr */
}
div.output_latex {
  text-align: left;
}
/* Empty output_javascript divs should have no height */
div.output_javascript:empty {
  padding: 0;
}
.js-error {
  color: darkred;
}
/* raw_input styles */
div.raw_input_container {
  line-height: 1.21429em;
  padding-top: 5px;
}
pre.raw_input_prompt {
  /* nothing needed here. */
}
input.raw_input {
  font-family: monospace;
  font-size: inherit;
  color: inherit;
  width: auto;
  /* make sure input baseline aligns with prompt */
  vertical-align: baseline;
  /* padding + margin = 0.5em between prompt and cursor */
  padding: 0em 0.25em;
  margin: 0em 0.25em;
}
input.raw_input:focus {
  box-shadow: none;
}
p.p-space {
  margin-bottom: 10px;
}
div.output_unrecognized {
  padding: 5px;
  font-weight: bold;
  color: red;
}
div.output_unrecognized a {
  color: inherit;
  text-decoration: none;
}
div.output_unrecognized a:hover {
  color: inherit;
  text-decoration: none;
}
.rendered_html {
  color: #000;
  /* any extras will just be numbers: */
}



.rendered_html :link {
  text-decoration: underline;
}
.rendered_html :visited {
  text-decoration: underline;
}






.rendered_html h1:first-child {
  margin-top: 0.538em;
}
.rendered_html h2:first-child {
  margin-top: 0.636em;
}
.rendered_html h3:first-child {
  margin-top: 0.777em;
}
.rendered_html h4:first-child {
  margin-top: 1em;
}
.rendered_html h5:first-child {
  margin-top: 1em;
}
.rendered_html h6:first-child {
  margin-top: 1em;
}








.rendered_html * + ul {
  margin-top: 1em;
}
.rendered_html * + ol {
  margin-top: 1em;
}


.rendered_html pre,



.rendered_html tr,
.rendered_html th,

.rendered_html td,


.rendered_html * + table {
  margin-top: 1em;
}

.rendered_html * + p {
  margin-top: 1em;
}

.rendered_html * + img {
  margin-top: 1em;
}
.rendered_html img,

.rendered_html img.unconfined,

div.text_cell {
  /* Old browsers */
  display: -webkit-box;
  -webkit-box-orient: horizontal;
  -webkit-box-align: stretch;
  display: -moz-box;
  -moz-box-orient: horizontal;
  -moz-box-align: stretch;
  display: box;
  box-orient: horizontal;
  box-align: stretch;
  /* Modern browsers */
  display: flex;
  flex-direction: row;
  align-items: stretch;
}
@media (max-width: 540px) {
  div.text_cell > div.prompt {
    display: none;
  }
}
div.text_cell_render {
  /*font-family: "Helvetica Neue", Arial, Helvetica, Geneva, sans-serif;*/
  outline: none;
  resize: none;
  width: inherit;
  border-style: none;
  padding: 0.5em 0.5em 0.5em 0.4em;
  color: #000;
  box-sizing: border-box;
  -moz-box-sizing: border-box;
  -webkit-box-sizing: border-box;
}
a.anchor-link:link {
  text-decoration: none;
  padding: 0px 20px;
  visibility: hidden;
}
h1:hover .anchor-link,
h2:hover .anchor-link,
h3:hover .anchor-link,
h4:hover .anchor-link,
h5:hover .anchor-link,
h6:hover .anchor-link {
  visibility: visible;
}
.text_cell.rendered .input_area {
  display: none;
}
.text_cell.rendered 
.text_cell.unrendered .text_cell_render {
  display: none;
}
.cm-header-1,
.cm-header-2,
.cm-header-3,
.cm-header-4,
.cm-header-5,
.cm-header-6 {
  font-weight: bold;
  font-family: "Helvetica Neue", Helvetica, Arial, sans-serif;
}
.cm-header-1 {
  font-size: 185.7%;
}
.cm-header-2 {
  font-size: 157.1%;
}
.cm-header-3 {
  font-size: 128.6%;
}
.cm-header-4 {
  font-size: 110%;
}
.cm-header-5 {
  font-size: 100%;
  font-style: italic;
}
.cm-header-6 {
  font-size: 100%;
  font-style: italic;
}
</style>
<style type="text/css">.highlight .hll { background-color: #ffffcc }
.highlight  { background: #f8f8f8; }
.highlight .c { color: #408080; font-style: italic } /* Comment */
.highlight .err { border: 1px solid #FF0000 } /* Error */
.highlight .k { color: #008000; font-weight: bold } /* Keyword */
.highlight .o { color: #666666 } /* Operator */
.highlight .ch { color: #408080; font-style: italic } /* Comment.Hashbang */
.highlight .cm { color: #408080; font-style: italic } /* Comment.Multiline */
.highlight .cp { color: #BC7A00 } /* Comment.Preproc */
.highlight .cpf { color: #408080; font-style: italic } /* Comment.PreprocFile */
.highlight .c1 { color: #408080; font-style: italic } /* Comment.Single */
.highlight .cs { color: #408080; font-style: italic } /* Comment.Special */
.highlight .gd { color: #A00000 } /* Generic.Deleted */
.highlight .ge { font-style: italic } /* Generic.Emph */
.highlight .gr { color: #FF0000 } /* Generic.Error */
.highlight .gh { color: #000080; font-weight: bold } /* Generic.Heading */
.highlight .gi { color: #00A000 } /* Generic.Inserted */
.highlight .go { color: #888888 } /* Generic.Output */
.highlight .gp { color: #000080; font-weight: bold } /* Generic.Prompt */
.highlight .gs { font-weight: bold } /* Generic.Strong */
.highlight .gu { color: #800080; font-weight: bold } /* Generic.Subheading */
.highlight .gt { color: #0044DD } /* Generic.Traceback */
.highlight .kc { color: #008000; font-weight: bold } /* Keyword.Constant */
.highlight .kd { color: #008000; font-weight: bold } /* Keyword.Declaration */
.highlight .kn { color: #008000; font-weight: bold } /* Keyword.Namespace */
.highlight .kp { color: #008000 } /* Keyword.Pseudo */
.highlight .kr { color: #008000; font-weight: bold } /* Keyword.Reserved */
.highlight .kt { color: #B00040 } /* Keyword.Type */
.highlight .m { color: #666666 } /* Literal.Number */
.highlight .s { color: #BA2121 } /* Literal.String */
.highlight .na { color: #7D9029 } /* Name.Attribute */
.highlight .nb { color: #008000 } /* Name.Builtin */
.highlight .nc { color: #0000FF; font-weight: bold } /* Name.Class */
.highlight .no { color: #880000 } /* Name.Constant */
.highlight .nd { color: #AA22FF } /* Name.Decorator */
.highlight .ni { color: #999999; font-weight: bold } /* Name.Entity */
.highlight .ne { color: #D2413A; font-weight: bold } /* Name.Exception */
.highlight .nf { color: #0000FF } /* Name.Function */
.highlight .nl { color: #A0A000 } /* Name.Label */
.highlight .nn { color: #0000FF; font-weight: bold } /* Name.Namespace */
.highlight .nt { color: #008000; font-weight: bold } /* Name.Tag */
.highlight .nv { color: #19177C } /* Name.Variable */
.highlight .ow { color: #AA22FF; font-weight: bold } /* Operator.Word */
.highlight .w { color: #bbbbbb } /* Text.Whitespace */
.highlight .mb { color: #666666 } /* Literal.Number.Bin */
.highlight .mf { color: #666666 } /* Literal.Number.Float */
.highlight .mh { color: #666666 } /* Literal.Number.Hex */
.highlight .mi { color: #666666 } /* Literal.Number.Integer */
.highlight .mo { color: #666666 } /* Literal.Number.Oct */
.highlight .sa { color: #BA2121 } /* Literal.String.Affix */
.highlight .sb { color: #BA2121 } /* Literal.String.Backtick */
.highlight .sc { color: #BA2121 } /* Literal.String.Char */
.highlight .dl { color: #BA2121 } /* Literal.String.Delimiter */
.highlight .sd { color: #BA2121; font-style: italic } /* Literal.String.Doc */
.highlight .s2 { color: #BA2121 } /* Literal.String.Double */
.highlight .se { color: #BB6622; font-weight: bold } /* Literal.String.Escape */
.highlight .sh { color: #BA2121 } /* Literal.String.Heredoc */
.highlight .si { color: #BB6688; font-weight: bold } /* Literal.String.Interpol */
.highlight .sx { color: #008000 } /* Literal.String.Other */
.highlight .sr { color: #BB6688 } /* Literal.String.Regex */
.highlight .s1 { color: #BA2121 } /* Literal.String.Single */
.highlight .ss { color: #19177C } /* Literal.String.Symbol */
.highlight .bp { color: #008000 } /* Name.Builtin.Pseudo */
.highlight .fm { color: #0000FF } /* Name.Function.Magic */
.highlight .vc { color: #19177C } /* Name.Variable.Class */
.highlight .vg { color: #19177C } /* Name.Variable.Global */
.highlight .vi { color: #19177C } /* Name.Variable.Instance */
.highlight .vm { color: #19177C } /* Name.Variable.Magic */
.highlight .il { color: #666666 } /* Literal.Number.Integer.Long */</style>
<style type="text/css">
/* Temporary definitions which will become obsolete with Notebook release 5.0 */
.ansi-black-fg { color: #3E424D; }
.ansi-black-bg { background-color: #3E424D; }
.ansi-black-intense-fg { color: #282C36; }
.ansi-black-intense-bg { background-color: #282C36; }
.ansi-red-fg { color: #E75C58; }
.ansi-red-bg { background-color: #E75C58; }
.ansi-red-intense-fg { color: #B22B31; }
.ansi-red-intense-bg { background-color: #B22B31; }
.ansi-green-fg { color: #00A250; }
.ansi-green-bg { background-color: #00A250; }
.ansi-green-intense-fg { color: #007427; }
.ansi-green-intense-bg { background-color: #007427; }
.ansi-yellow-fg { color: #DDB62B; }
.ansi-yellow-bg { background-color: #DDB62B; }
.ansi-yellow-intense-fg { color: #B27D12; }
.ansi-yellow-intense-bg { background-color: #B27D12; }
.ansi-blue-fg { color: #208FFB; }
.ansi-blue-bg { background-color: #208FFB; }
.ansi-blue-intense-fg { color: #0065CA; }
.ansi-blue-intense-bg { background-color: #0065CA; }
.ansi-magenta-fg { color: #D160C4; }
.ansi-magenta-bg { background-color: #D160C4; }
.ansi-magenta-intense-fg { color: #A03196; }
.ansi-magenta-intense-bg { background-color: #A03196; }
.ansi-cyan-fg { color: #60C6C8; }
.ansi-cyan-bg { background-color: #60C6C8; }
.ansi-cyan-intense-fg { color: #258F8F; }
.ansi-cyan-intense-bg { background-color: #258F8F; }
.ansi-white-fg { color: #C5C1B4; }
.ansi-white-bg { background-color: #C5C1B4; }
.ansi-white-intense-fg { color: #A1A6B2; }
.ansi-white-intense-bg { background-color: #A1A6B2; }

.ansi-bold { font-weight: bold; }
</style>
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">
<div class="output_area">
<div class="prompt output_prompt">Out[1]:</div>
<div class="output_html rendered_html output_subarea output_execute_result">
<style> </style>
</div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Introduction">Introduction<a class="anchor-link" href="#Introduction">¶</a></h3><p>If you haven't yet seen the <a href="data_management.html">first post</a> for this series, please take a minute to read that first...  Are you back?  Great.  Let's enter the wormhole...</p>
<p><img src="images/DataVortex.jpg" width="400"/></p>
<p>This post is going to delve into the mechanics of <em>feature engineering</em> for the sorts of time series data that you may use as part of a stock price prediction modeling system.</p>
<p>I'll cover the basic concept, then offer some useful python code recipes for transforming your raw source data into features which can be fed directly into a ML algorithm or ML pipeline.</p>
<p>Anyone who has dabbled with any systems-based trading or charting already has experience with simple forms of feature engineering, whether or not they realized it.  For instance:</p>
<ul>
<li>Converting a series of asset prices into percent change values is a simple form of feature engineering</li>
<li>Charting prices vs. a moving average is an implicit form of feature engineering</li>
<li>Any technical indicator (RSI, MACD, etc...) are also forms of feature engineering</li>
</ul>
<p>The process takes in one or more columns of "raw" input data (e.g., OHLC price data, 10-Q financials, social media sentiment, etc...) and converts it into <em>many</em> columns of engineered features.</p>
<h3 id="Motivation">Motivation<a class="anchor-link" href="#Motivation">¶</a></h3><p>I believe (and I don't think I'm alone here!) that featue engineering is the most under-appreciated part of the art of machine learning.  It's certainly the most time consuming and tedious, but it's creative and "fun" (for those who like getting their hands dirty with data, anyway...).</p>
<p>Feature engineering is also one of the key areas where those with domain expertise can shine.  Those whose expertise in investing is greater than their skill in machine learning will find that feature engineering will allow them to make use of that domain expertise.</p>
<p><em>Feature engineering</em> is a term of art for data science and machine learning which refers to pre-processing and transforming raw data into a form which is more easily used by machine learning algorithms.  Much like industrial processing can extract pure gold from trace elements within raw ore, feature engineering can extract valuable "alpha" from very noisy raw data.</p>
<p><img src="images/gold_mine.jpg" width="400"/></p>
<p>You have to dig through a lot of dirt to find gold.</p>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Principles-and-guidelines">Principles and guidelines<a class="anchor-link" href="#Principles-and-guidelines">¶</a></h3><p>Feature engineering is fundamentally a creative process which should not be overly constrained by rules or limits.</p>
<p>However, I do believe there are a few guidelines to be followed:</p>
<ul>
<li><p><strong>No peeking:</strong> Peeking (into the future) is the "original sin" of feature engineering (and prediction modeling in general).  It refers to using information about the future (or information which would not yet be known by us...) to engineer a piece of data.</p>
<p>This can be obvious, like using next_12_months_returns.  However, it's most often quite subtle, like using the mean or standard deviation across the full time period to normalize data points (which implicitly leaks future information into our features.  The test is whether you would be able to get <strong>the exact same value</strong> if you were calculating the data point at that point in time rather than today.</p>
</li>
</ul>
<ul>
<li><strong>Only the knowable:</strong> A corrolary to the above, you also need to be honest about what you would have known at the time, not just what had happened at the time.  For instance, short borrowing data is reported by exchanges with a considerable time lag.  You would want to stamp the feature with the date on which you <em>would have known</em> it.  </li>
</ul>
<ul>
<li><p><strong>Complete the table:</strong> Many machine learning algorithms expect that every input feature will have a value (of a certain type) for each observation.  If you envision a spreadsheet where each feature is a column and each observation is a row, there should be a value in each cell of the table.  Quite often, some features in the table will naturally update themselves more frequently than others.</p>
<p>Price data updates almost continuously, while short inventory, analyst estimates, or EBITDA tend to update every few weeks or months.  In these cases, we'll use a scheme like last observation carried forward (LOCF) to always have a value for each feature in the naturally lower frequency columns.  Of course, we will be careful to avoid inadvertent peeking!</p>
</li>
</ul>
<ul>
<li><strong>Avoid false ordinality:</strong> Finally, it's extremely important to represent features in a way that captures ordinality only if it has meaning.  For instance, it's usually a bad idea to represent "day of the week" as an integer 1 to 7 since this implicitly tells the model to treat Friday as very similar to Thursday, but "a little more".  It would also say that Sunday and Monday are totally different (if Sunday =7 and Monday =1). We could miss all manner of interesting patterns in the data.  </li>
</ul>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Getting-Started">Getting Started<a class="anchor-link" href="#Getting-Started">¶</a></h3><p>I will begin by extracting some toy data into a dataframe using free data from <a href="https://www.quandl.com/">quandl</a>:</p>
<p>First, we'll make a utility function which downloads one or more symbols from quandl and returns the adjusted OHLC data (I generally find adjusted data to be best).</p>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [2]:</div>
<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="n">pd</span><span class="o">.</span><span class="n">core</span><span class="o">.</span><span class="n">common</span><span class="o">.</span><span class="n">is_list_like</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">api</span><span class="o">.</span><span class="n">types</span><span class="o">.</span><span class="n">is_list_like</span> <span class="c1"># remove once updated pandas-datareader issue is fixed</span>
<span class="c1"># https://github.com/pydata/pandas-datareader/issues/534</span>
<span class="kn">import</span> <span class="nn">pandas_datareader.data</span> <span class="k">as</span> <span class="nn">web</span>
<span class="o">%</span><span class="k">matplotlib</span> inline

<span class="k">def</span> <span class="nf">get_symbols</span><span class="p">(</span><span class="n">symbols</span><span class="p">,</span><span class="n">data_source</span><span class="p">,</span> <span class="n">begin_date</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span><span class="n">end_date</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
    <span class="n">out</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">()</span>
    <span class="k">for</span> <span class="n">symbol</span> <span class="ow">in</span> <span class="n">symbols</span><span class="p">:</span>
        <span class="n">df</span> <span class="o">=</span> <span class="n">web</span><span class="o">.</span><span class="n">DataReader</span><span class="p">(</span><span class="n">symbol</span><span class="p">,</span> <span class="n">data_source</span><span class="p">,</span><span class="n">begin_date</span><span class="p">,</span> <span class="n">end_date</span><span class="p">)</span>\
        <span class="p">[[</span><span class="s1">'AdjOpen'</span><span class="p">,</span><span class="s1">'AdjHigh'</span><span class="p">,</span><span class="s1">'AdjLow'</span><span class="p">,</span><span class="s1">'AdjClose'</span><span class="p">,</span><span class="s1">'AdjVolume'</span><span class="p">]]</span><span class="o">.</span><span class="n">reset_index</span><span class="p">()</span>
        <span class="n">df</span><span class="o">.</span><span class="n">columns</span> <span class="o">=</span> <span class="p">[</span><span class="s1">'date'</span><span class="p">,</span><span class="s1">'open'</span><span class="p">,</span><span class="s1">'high'</span><span class="p">,</span><span class="s1">'low'</span><span class="p">,</span><span class="s1">'close'</span><span class="p">,</span><span class="s1">'volume'</span><span class="p">]</span> <span class="c1">#my convention: always lowercase</span>
        <span class="n">df</span><span class="p">[</span><span class="s1">'symbol'</span><span class="p">]</span> <span class="o">=</span> <span class="n">symbol</span> <span class="c1"># add a new column which contains the symbol so we can keep multiple symbols in the same dataframe</span>
        <span class="n">df</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">set_index</span><span class="p">([</span><span class="s1">'date'</span><span class="p">,</span><span class="s1">'symbol'</span><span class="p">])</span>
        <span class="n">out</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">concat</span><span class="p">([</span><span class="n">out</span><span class="p">,</span><span class="n">df</span><span class="p">],</span><span class="n">axis</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span> <span class="c1">#stacks on top of previously collected data</span>
    <span class="k">return</span> <span class="n">out</span><span class="o">.</span><span class="n">sort_index</span><span class="p">()</span>
        
<span class="n">prices</span> <span class="o">=</span> <span class="n">get_symbols</span><span class="p">([</span><span class="s1">'AAPL'</span><span class="p">,</span><span class="s1">'CSCO'</span><span class="p">],</span><span class="n">data_source</span><span class="o">=</span><span class="s1">'quandl'</span><span class="p">,</span>\
                     <span class="n">begin_date</span><span class="o">=</span><span class="s1">'2015-01-01'</span><span class="p">,</span><span class="n">end_date</span><span class="o">=</span><span class="s1">'2017-01-01'</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>With the data collected, we can create a new dataframe called "features" which will be used to compile all of the features we engineer.  Good practice is to create this dataframe with an index from your downloaded data, since you should only have new feature values as you have new primary source data.</p>
<p>As the simple example below illustrates, we can then construct features from the data and store into multiple feature columns.  Note that there will often be null values inserted if the formula doesn't produce valid values for each row index.</p>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [3]:</div>
<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">features</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">index</span><span class="o">=</span><span class="n">prices</span><span class="o">.</span><span class="n">index</span><span class="p">)</span><span class="o">.</span><span class="n">sort_index</span><span class="p">()</span>
<span class="n">features</span><span class="p">[</span><span class="s1">'f01'</span><span class="p">]</span> <span class="o">=</span> <span class="n">prices</span><span class="o">.</span><span class="n">close</span><span class="o">/</span><span class="n">prices</span><span class="o">.</span><span class="n">open</span><span class="o">-</span><span class="mi">1</span> <span class="c1"># daily return</span>
<span class="n">features</span><span class="p">[</span><span class="s1">'f02'</span><span class="p">]</span> <span class="o">=</span> <span class="n">prices</span><span class="o">.</span><span class="n">open</span><span class="o">/</span><span class="n">prices</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="n">level</span><span class="o">=</span><span class="s1">'symbol'</span><span class="p">)</span><span class="o">.</span><span class="n">close</span><span class="o">.</span><span class="n">shift</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span><span class="o">-</span><span class="mi">1</span> 
<span class="n">features</span><span class="o">.</span><span class="n">tail</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
<div class="output_wrapper">
<div class="output">
<div class="output_area">
<div class="prompt output_prompt">Out[3]:</div>
<div class="output_html rendered_html output_subarea output_execute_result">
<div>
<style scoped="">
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
<thead>
<tr style="text-align: right;">
<th></th>
<th></th>
<th>f01</th>
<th>f02</th>
</tr>
<tr>
<th>date</th>
<th>symbol</th>
<th></th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<th>2016-12-28</th>
<th>CSCO</th>
<td>-0.009121</td>
<td>0.000652</td>
</tr>
<tr>
<th rowspan="2" valign="top">2016-12-29</th>
<th>AAPL</th>
<td>0.002404</td>
<td>-0.002655</td>
</tr>
<tr>
<th>CSCO</th>
<td>0.002963</td>
<td>-0.001644</td>
</tr>
<tr>
<th rowspan="2" valign="top">2016-12-30</th>
<th>AAPL</th>
<td>-0.007115</td>
<td>-0.000685</td>
</tr>
<tr>
<th>CSCO</th>
<td>-0.011126</td>
<td>0.003283</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<blockquote><p><strong>Side note</strong>: I favor following a bland naming convention like f01, f02, etc... for each feature (and then documenting what each feature represents...) rather than using descriptive column names.  My reasons for this are three-fold:</p>
<ol>
<li>Descriptive names tend to be long and cumbersome to use, </li>
<li>They're rarely truely self-describing, and </li>
<li>It's often useful to create an abstraction to conceal from the modeler (either yourself or someone else) what each represents.  Think of it like a blind taste test.</li>
</ol>
</blockquote>
<p>Following this basic code pattern, we can generate infinite variations into our features.  This is where your domain expertise and analytical creativity come into play!</p>
<p>My suggestion is to make sure you have a reasonable hypothesis before you create any feature, but don't be afraid to try many variations on a theme.  There is much to be learned from trying several flavors of feature transformations out.</p>
<h3 id="Common-Transforms">Common Transforms<a class="anchor-link" href="#Common-Transforms">¶</a></h3><p>In the interest of accelerating your creativity, I've listed below a series of "recipes" for some of the transforms I've found useful - especially when using linear or quasi-linear models - extract meaningful relationships.</p>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h4 id="Logs">Logs<a class="anchor-link" href="#Logs">¶</a></h4><p>Many times, values like market cap, volume, revenue can map better to the prediction target if put into log space.  This is easy to do via pandas+numpy:</p>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [4]:</div>
<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">features</span><span class="p">[</span><span class="s1">'f03'</span><span class="p">]</span> <span class="o">=</span> <span class="n">prices</span><span class="o">.</span><span class="n">volume</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">log</span><span class="p">)</span> <span class="c1"># log of daily volume</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h4 id="Differencing">Differencing<a class="anchor-link" href="#Differencing">¶</a></h4><p>It's often more important to know how a value is changing than to know the value itself.  The <code>diff()</code> method will calculate the change in value since the prior period (i.e., current minus prior).  NOTE: the "groupby" is critically important since if it were omitted we would be comparing the difference in volume between symbols, which is not what we want.</p>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [5]:</div>
<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">features</span><span class="p">[</span><span class="s1">'f03'</span><span class="p">]</span> <span class="o">=</span> <span class="n">prices</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="n">level</span><span class="o">=</span><span class="s1">'symbol'</span><span class="p">)</span><span class="o">.</span><span class="n">volume</span><span class="o">.</span><span class="n">diff</span><span class="p">()</span> <span class="c1"># change since prior day</span>
<span class="n">features</span><span class="p">[</span><span class="s1">'f04'</span><span class="p">]</span> <span class="o">=</span> <span class="n">prices</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="n">level</span><span class="o">=</span><span class="s1">'symbol'</span><span class="p">)</span><span class="o">.</span><span class="n">volume</span><span class="o">.</span><span class="n">diff</span><span class="p">(</span><span class="mi">50</span><span class="p">)</span> <span class="c1"># change since 50 days prior</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h4 id="Rate-of-Change">Rate of Change<a class="anchor-link" href="#Rate-of-Change">¶</a></h4><p>Even more common is to want the rate of change as expressed by percent change.  Pandas has the handy <code>pct_change()</code> method for this purpose, but beware that you'll get <a href="https://stackoverflow.com/questions/50915213/using-pct-change-with-multiindex-groupby">odd behavior</a> if you mix this with <code>groupby()</code> as shown above.  I prefer to create my own lambda wrapper function as shown below.</p>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [6]:</div>
<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">pct_chg_fxn</span> <span class="o">=</span> <span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span><span class="o">.</span><span class="n">pct_change</span><span class="p">()</span>
<span class="n">features</span><span class="p">[</span><span class="s1">'f05'</span><span class="p">]</span> <span class="o">=</span> <span class="n">prices</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="n">level</span><span class="o">=</span><span class="s1">'symbol'</span><span class="p">)</span><span class="o">.</span><span class="n">volume</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="n">pct_chg_fxn</span><span class="p">)</span> 
</pre></div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h4 id="Moving-Averages">Moving Averages<a class="anchor-link" href="#Moving-Averages">¶</a></h4><p>Sometimes, we'd rather use the moving average of a value as part of a feature.  This can be the value itself if you want to minimize how "jittery" a value is.  Or, more commonly, you may want to compare a value with a trailing moving average of itself.</p>
<p>Again, we need to use groupby since our dataframe has info on multiple symbols - and again, we need to use a lambda function wrapper to avoid error.  There are other patterns which will accomplish the same thing but I find this to be cleanest.</p>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [7]:</div>
<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># log of 5 day moving average of volume</span>
<span class="n">ma_5</span> <span class="o">=</span> <span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span><span class="o">.</span><span class="n">rolling</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span>
<span class="n">features</span><span class="p">[</span><span class="s1">'f06'</span><span class="p">]</span> <span class="o">=</span> <span class="n">prices</span><span class="o">.</span><span class="n">volume</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="n">level</span><span class="o">=</span><span class="s1">'symbol'</span><span class="p">)</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="n">ma_5</span><span class="p">)</span>\
<span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">log</span><span class="p">)</span> 

<span class="c1"># daily volume vs. 200 day moving average</span>
<span class="n">ma_200</span> <span class="o">=</span> <span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span><span class="o">.</span><span class="n">rolling</span><span class="p">(</span><span class="mi">200</span><span class="p">)</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span>
<span class="n">features</span><span class="p">[</span><span class="s1">'f07'</span><span class="p">]</span> <span class="o">=</span> <span class="n">prices</span><span class="o">.</span><span class="n">volume</span><span class="o">/</span> <span class="n">prices</span><span class="o">.</span><span class="n">volume</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="n">level</span><span class="o">=</span><span class="s1">'symbol'</span><span class="p">)</span>\
<span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="n">ma_200</span><span class="p">)</span><span class="o">-</span><span class="mi">1</span>

<span class="c1"># daily closing price vs. 50 day exponential moving avg</span>
<span class="n">ema_50</span> <span class="o">=</span> <span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span><span class="o">.</span><span class="n">ewm</span><span class="p">(</span><span class="n">span</span><span class="o">=</span><span class="mi">50</span><span class="p">)</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span>
<span class="n">features</span><span class="p">[</span><span class="s1">'f08'</span><span class="p">]</span> <span class="o">=</span> <span class="n">prices</span><span class="o">.</span><span class="n">close</span><span class="o">/</span> <span class="n">prices</span><span class="o">.</span><span class="n">close</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="n">level</span><span class="o">=</span><span class="s1">'symbol'</span><span class="p">)</span>\
<span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="n">ema_50</span><span class="p">)</span><span class="o">-</span><span class="mi">1</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<blockquote><p><strong>Side note</strong>: Since the rolling window is an important - and somewhat arbitrary - value, you should try a range of reasonable values.  I have found that it's better to use an exponentially increasing range of values rather than a linear range.  In other words, use [5,10,20,40,80,160] rather than [10,20,30,40...,100].</p>
<p>The rationale is that values like 90 and 100 are really quite similar whereas 10 and 20 are quite different.  Therefore, if you choose linearly spaced values, you'll effectively be giving the higher end of the value range more chances to succeed than the lower values - and you'll increase the likelihood of overfitting a high value.</p>
</blockquote>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h4 id="Z-Scores">Z-Scores<a class="anchor-link" href="#Z-Scores">¶</a></h4><p>A very popular/useful transformation for financial time series data is the <a href="http://stattrek.com/statistics/dictionary.aspx?definition=z-score">z-score</a>.  We can easily define a generalized lambda function for this, which we can use whenever needed.  Importantly, it allows us to mix together very different symbols (some high-beta, some low-beta) in a way that considers the statistical significance of any movement.</p>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [8]:</div>
<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">zscore_fxn</span> <span class="o">=</span> <span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="p">(</span><span class="n">x</span> <span class="o">-</span> <span class="n">x</span><span class="o">.</span><span class="n">mean</span><span class="p">())</span> <span class="o">/</span> <span class="n">x</span><span class="o">.</span><span class="n">std</span><span class="p">()</span>
<span class="n">features</span><span class="p">[</span><span class="s1">'f09'</span><span class="p">]</span> <span class="o">=</span><span class="n">prices</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="n">level</span><span class="o">=</span><span class="s1">'symbol'</span><span class="p">)</span><span class="o">.</span><span class="n">close</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="n">zscore_fxn</span><span class="p">)</span>
<span class="n">features</span><span class="o">.</span><span class="n">f09</span><span class="o">.</span><span class="n">unstack</span><span class="p">()</span><span class="o">.</span><span class="n">plot</span><span class="o">.</span><span class="n">kde</span><span class="p">(</span><span class="n">title</span><span class="o">=</span><span class="s1">'Z-Scores (not quite accurate)'</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="output_wrapper">
<div class="output">
<div class="output_area">
<div class="prompt output_prompt">Out[8]:</div>
<div class="output_text output_subarea output_execute_result">
<pre>&lt;matplotlib.axes._subplots.AxesSubplot at 0xa8540f0&gt;</pre>
</div>
</div>
<div class="output_area">
<div class="prompt"></div>
<div class="output_png output_subarea ">
<img src="data:image/png;base64,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
ERHRXAVSuC0HdiAxmwAAAABJRU5ErkJggg==
"/>
</div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>However, the above example has a subtle but important bug.  It uses the mean <em>of the whole time frame</em> and the standard deviation <em>of the whole time frame</em> to calculate each datapoint.  This means we are peeking ahead into the future and the feature is potentially very danger-prone (it'll work famously well in sample and fail to work out of sample...).</p>
<p>Fixing this is cumbersome, but necessary.</p>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [9]:</div>
<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">zscore_fun_improved</span> <span class="o">=</span> <span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="p">(</span><span class="n">x</span> <span class="o">-</span> <span class="n">x</span><span class="o">.</span><span class="n">rolling</span><span class="p">(</span><span class="n">window</span><span class="o">=</span><span class="mi">200</span><span class="p">,</span> <span class="n">min_periods</span><span class="o">=</span><span class="mi">20</span><span class="p">)</span><span class="o">.</span><span class="n">mean</span><span class="p">())</span>\
<span class="o">/</span> <span class="n">x</span><span class="o">.</span><span class="n">rolling</span><span class="p">(</span><span class="n">window</span><span class="o">=</span><span class="mi">200</span><span class="p">,</span> <span class="n">min_periods</span><span class="o">=</span><span class="mi">20</span><span class="p">)</span><span class="o">.</span><span class="n">std</span><span class="p">()</span>
<span class="n">features</span><span class="p">[</span><span class="s1">'f10'</span><span class="p">]</span> <span class="o">=</span><span class="n">prices</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="n">level</span><span class="o">=</span><span class="s1">'symbol'</span><span class="p">)</span><span class="o">.</span><span class="n">close</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="n">zscore_fun_improved</span><span class="p">)</span>
<span class="n">features</span><span class="o">.</span><span class="n">f10</span><span class="o">.</span><span class="n">unstack</span><span class="p">()</span><span class="o">.</span><span class="n">plot</span><span class="o">.</span><span class="n">kde</span><span class="p">(</span><span class="n">title</span><span class="o">=</span><span class="s1">'Z-Scores (accurate)'</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="output_wrapper">
<div class="output">
<div class="output_area">
<div class="prompt output_prompt">Out[9]:</div>
<div class="output_text output_subarea output_execute_result">
<pre>&lt;matplotlib.axes._subplots.AxesSubplot at 0xc5dd550&gt;</pre>
</div>
</div>
<div class="output_area">
<div class="prompt"></div>
<div class="output_png output_subarea ">
<img src="data:image/png;base64,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
rkJggg==
"/>
</div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h4 id="Percentile">Percentile<a class="anchor-link" href="#Percentile">¶</a></h4><p>Less commonly used - but equally useful - is the percentile transformation.  Getting this done properly in pandas (with groupby and rolling) is possible but tricky.  The below example returns the percentile rank (from 0.00 to 1.00) of traded volume for each value as compared to a trailing 200 day period.</p>
<p>Note that we need to use <em>a lambda within a lambda</em> to make this work properly.  We're on the bleeding edge.</p>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [10]:</div>
<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">rollrank_fxn</span> <span class="o">=</span> <span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span><span class="o">.</span><span class="n">rolling</span><span class="p">(</span><span class="mi">200</span><span class="p">,</span><span class="n">min_periods</span><span class="o">=</span><span class="mi">20</span><span class="p">)</span>\
<span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">(</span><span class="n">x</span><span class="p">)</span><span class="o">.</span><span class="n">rank</span><span class="p">(</span><span class="n">pct</span><span class="o">=</span><span class="kc">True</span><span class="p">)[</span><span class="mi">0</span><span class="p">])</span>
<span class="n">features</span><span class="p">[</span><span class="s1">'f11'</span><span class="p">]</span> <span class="o">=</span> <span class="n">prices</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="n">level</span><span class="o">=</span><span class="s1">'symbol'</span><span class="p">)</span><span class="o">.</span><span class="n">volume</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="n">rollrank_fxn</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Another interesting application of this same pattern is to rank each stock <em>cross-sectionally</em> rather than <em>longitudinally</em> as above.  In other words, where does this stock rank within all of the stocks on that day, not for all prior days of that stock.  The below example isn't very meaningful with only two stocks, but quite useful when using a realistic universe.  In this example, we're also making use of an earlier feature (relative volume) to compare which symbol is most heavily traded <em>for that stock's normal range</em> in a given day.  Also note that we need to <code>dropna()</code> prior to ranking because <code>rank</code> doesn't handle nulls very gracefully.</p>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [11]:</div>
<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">features</span><span class="p">[</span><span class="s1">'f12'</span><span class="p">]</span> <span class="o">=</span> <span class="n">features</span><span class="p">[</span><span class="s1">'f07'</span><span class="p">]</span><span class="o">.</span><span class="n">dropna</span><span class="p">()</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="n">level</span><span class="o">=</span><span class="s1">'date'</span><span class="p">)</span><span class="o">.</span><span class="n">rank</span><span class="p">(</span><span class="n">pct</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span> 
</pre></div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h4 id="Technical-Indicators">Technical Indicators<a class="anchor-link" href="#Technical-Indicators">¶</a></h4><p><img src="images/TA.jpg" width="400"/></p>
<p>Those with a taste for technical analysis may find it difficult to let go of your favored TA techniques.</p>
<p>While this is not <em>my</em> favored approach, you'll have no problem engineering features using these methods.  From my cursory googling, it looked as though the <a href="https://github.com/bukosabino/ta">open source package <code>ta</code></a> would be a good place to start.</p>
<p>Very new and only one contributor but it looks fairly comprehensive and well documented.  If you find that it's missing your favorite indicators, consider contributing to the package.  If you know of better such packages, please post in the comments below...</p>
<p>As an example:</p>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [12]:</div>
<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">import</span> <span class="nn">ta</span> <span class="c1"># technical analysis library: https://technical-analysis-library-in-python.readthedocs.io/en/latest/</span>
<span class="c1"># money flow index (14 day)</span>
<span class="n">features</span><span class="p">[</span><span class="s1">'f13'</span><span class="p">]</span> <span class="o">=</span> <span class="n">ta</span><span class="o">.</span><span class="n">momentum</span><span class="o">.</span><span class="n">money_flow_index</span><span class="p">(</span><span class="n">prices</span><span class="o">.</span><span class="n">high</span><span class="p">,</span> 
                                               <span class="n">prices</span><span class="o">.</span><span class="n">low</span><span class="p">,</span> <span class="n">prices</span><span class="o">.</span><span class="n">close</span><span class="p">,</span> \
                                               <span class="n">prices</span><span class="o">.</span><span class="n">volume</span><span class="p">,</span> <span class="n">n</span><span class="o">=</span><span class="mi">14</span><span class="p">,</span> <span class="n">fillna</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="c1"># mean-centered money flow index</span>
<span class="n">features</span><span class="p">[</span><span class="s1">'f14'</span><span class="p">]</span> <span class="o">=</span> <span class="n">features</span><span class="p">[</span><span class="s1">'f13'</span><span class="p">]</span> <span class="o">-</span> <span class="n">features</span><span class="p">[</span><span class="s1">'f13'</span><span class="p">]</span>\
<span class="o">.</span><span class="n">rolling</span><span class="p">(</span><span class="mi">200</span><span class="p">,</span><span class="n">min_periods</span><span class="o">=</span><span class="mi">20</span><span class="p">)</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Alternative-Representations">Alternative Representations<a class="anchor-link" href="#Alternative-Representations">¶</a></h3><p>A bit different than transforms are "representations", i.e., other ways to represent continuous values.  All of the transforms above returned continuous values rather than "labels", and that's often a good place to start - especally for early prototypes.</p>
<p>However, you may want to represent the data in different ways, especially if using classification-based approaches or worried about the <a href="https://en.wikipedia.org/wiki/Curse_of_dimensionality">curse of dimensionality</a> due to large numbers of features.</p>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h4 id="Binning">Binning<a class="anchor-link" href="#Binning">¶</a></h4><p>We can easily convert a continous variable to discrete "bins" (like 1 to 10).  This loses information, of course, but sometimes loss of information is a good thing if you are removing more noise than signal.</p>
<p>The below example shows volumes converted into ten equally sized buckets.  In other words, we've converted a continuous variable into a discrete one.</p>
<p>NOTE: this example is not applied in a rolling fashion, so it <strong>does suffer from some data peeking</strong>, which I've described as the original sin.  At the moment, I'm failing in my efforts to implement it in a rolling way.  I'd be grateful for code snippets if anyone knows how to do this offhand.</p>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [13]:</div>
<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">n_bins</span> <span class="o">=</span> <span class="mi">10</span>
<span class="n">bin_fxn</span> <span class="o">=</span> <span class="k">lambda</span> <span class="n">y</span><span class="p">:</span> <span class="n">pd</span><span class="o">.</span><span class="n">qcut</span><span class="p">(</span><span class="n">y</span><span class="p">,</span><span class="n">q</span><span class="o">=</span><span class="n">n_bins</span><span class="p">,</span><span class="n">labels</span> <span class="o">=</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="n">n_bins</span><span class="o">+</span><span class="mi">1</span><span class="p">))</span>
<span class="n">features</span><span class="p">[</span><span class="s1">'f15'</span><span class="p">]</span> <span class="o">=</span> <span class="n">prices</span><span class="o">.</span><span class="n">volume</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="n">level</span><span class="o">=</span><span class="s1">'symbol'</span><span class="p">)</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="n">bin_fxn</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h4 id="Signing">Signing<a class="anchor-link" href="#Signing">¶</a></h4><p>Very simply, you may wish to convert continuous variables into positive or negative (1 or -1) values, depending on input.  For instance, was volume increasing or decreasing today?</p>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [14]:</div>
<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">features</span><span class="p">[</span><span class="s1">'f16'</span><span class="p">]</span> <span class="o">=</span> <span class="n">features</span><span class="p">[</span><span class="s1">'f05'</span><span class="p">]</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">sign</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h4 id="Plus-Minus">Plus-Minus<a class="anchor-link" href="#Plus-Minus">¶</a></h4><p>You may be interested in how many days in a row a value has increased (or decreased).  Below is a simple pattern to do just that - it calculates the number of up-days minus the number of down days.</p>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [15]:</div>
<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">plus_minus_fxn</span> <span class="o">=</span> <span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span><span class="o">.</span><span class="n">rolling</span><span class="p">(</span><span class="mi">20</span><span class="p">)</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span>
<span class="n">features</span><span class="p">[</span><span class="s1">'f17'</span><span class="p">]</span> <span class="o">=</span> <span class="n">features</span><span class="p">[</span><span class="s1">'f16'</span><span class="p">]</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="n">level</span><span class="o">=</span><span class="s1">'symbol'</span><span class="p">)</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="n">plus_minus_fxn</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h4 id="One-Hot-Encoding">One-Hot Encoding<a class="anchor-link" href="#One-Hot-Encoding">¶</a></h4><p>Possibly the most common alternative representation is "one-hot encoding" where a categorical variable is represented as a binary.  For instance, month_of_year would be represented as twelve different columns, each of which was either 0 or 1.  January would be [1,0,0,0,...0] etc...</p>
<p>This is absolutely crucial in a few circumstances.  The first is where there is false meaning in the "ordinality" of values.  If we were looking to test the "santa claus effect" hypothesis, it wouldn't be helpful to use a month_of_year feature where January was "the least" and December was "the most".</p>
<p>The second is in cases where we are representing events or "states".  Does the word "lawsuit" appear within the 10-Q footnotes?  Is the company in the blackout period for share buybacks?</p>
<p>Finally, the particular machine learning algorithm (tree-based, neural networks) may find it easier to use binary representations than continuous or discrete ones.</p>
<p>The below example creates twelve one-hot features, one for each month, and names them automatically</p>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [16]:</div>
<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">month_of_year</span> <span class="o">=</span> <span class="n">prices</span><span class="o">.</span><span class="n">index</span><span class="o">.</span><span class="n">get_level_values</span><span class="p">(</span><span class="n">level</span><span class="o">=</span><span class="s1">'date'</span><span class="p">)</span><span class="o">.</span><span class="n">month</span>
<span class="n">one_hot_frame</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">pd</span><span class="o">.</span><span class="n">get_dummies</span><span class="p">(</span><span class="n">month_of_year</span><span class="p">))</span>
<span class="n">one_hot_frame</span><span class="o">.</span><span class="n">index</span> <span class="o">=</span> <span class="n">prices</span><span class="o">.</span><span class="n">index</span> <span class="c1"># Careful!  This is forcing index values without usual pandas alignments!</span>

<span class="c1"># create column names </span>
<span class="n">begin_num</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">features</span><span class="o">.</span><span class="n">columns</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">][</span><span class="o">-</span><span class="mi">2</span><span class="p">:])</span> <span class="o">+</span> <span class="mi">1</span> <span class="c1">#first available feature</span>
<span class="n">feat_names</span> <span class="o">=</span> <span class="p">[</span><span class="s1">'f'</span><span class="o">+</span><span class="nb">str</span><span class="p">(</span><span class="n">num</span><span class="p">)</span> <span class="k">for</span> <span class="n">num</span> <span class="ow">in</span> <span class="nb">list</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="n">begin_num</span><span class="p">,</span><span class="n">begin_num</span><span class="o">+</span><span class="mi">12</span><span class="p">,</span><span class="mi">1</span><span class="p">))]</span>

<span class="c1"># rename columns and merge</span>
<span class="n">one_hot_frame</span><span class="o">.</span><span class="n">columns</span> <span class="o">=</span> <span class="n">feat_names</span>
<span class="n">features</span> <span class="o">=</span> <span class="n">features</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">one_hot_frame</span><span class="p">)</span>
<span class="n">features</span><span class="o">.</span><span class="n">iloc</span><span class="p">[:,</span><span class="o">-</span><span class="mi">12</span><span class="p">:]</span><span class="o">.</span><span class="n">tail</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
<div class="output_wrapper">
<div class="output">
<div class="output_area">
<div class="prompt output_prompt">Out[16]:</div>
<div class="output_html rendered_html output_subarea output_execute_result">
<div>
<style scoped="">
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
<thead>
<tr style="text-align: right;">
<th></th>
<th></th>
<th>f18</th>
<th>f19</th>
<th>f20</th>
<th>f21</th>
<th>f22</th>
<th>f23</th>
<th>f24</th>
<th>f25</th>
<th>f26</th>
<th>f27</th>
<th>f28</th>
<th>f29</th>
</tr>
<tr>
<th>date</th>
<th>symbol</th>
<th></th>
<th></th>
<th></th>
<th></th>
<th></th>
<th></th>
<th></th>
<th></th>
<th></th>
<th></th>
<th></th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<th>2016-12-28</th>
<th>CSCO</th>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>1</td>
</tr>
<tr>
<th rowspan="2" valign="top">2016-12-29</th>
<th>AAPL</th>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>1</td>
</tr>
<tr>
<th>CSCO</th>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>1</td>
</tr>
<tr>
<th rowspan="2" valign="top">2016-12-30</th>
<th>AAPL</th>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>1</td>
</tr>
<tr>
<th>CSCO</th>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>1</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>With raw data series <code>month</code> transformed into 12 individual one-hot encoding columns, we can train a model which will learn whether the fact that it's July should materially affect our predictions, based on historical patterns.</p>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Summary">Summary<a class="anchor-link" href="#Summary">¶</a></h3><p>Whew!  We made it.</p>
<p>From this post, you've seen a simple code pattern for creating any number of "features" from raw input data, as well as some suggestions for useful transformations and alternative representations.</p>
<p>If we've done it right, this has resulted in many variations of similar features.  Thus, before we start building models, we need a method of selecting only those features which provide greatest insight and robustness.</p>
<p>I'll cover this in the next post: <a href="feature_selection.html">Feature Selection</a></p>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="One-last-thing...">One last thing...<a class="anchor-link" href="#One-last-thing...">¶</a></h3><p>If you've found this post useful, please follow <a href="https://twitter.com/data2alpha">@data2alpha</a> on twitter and forward to a friend or colleague who may also find this topic interesting.</p>
<p>Finally, take a minute to leave a comment below - either to discuss this post or to offer an idea for future posts.  Thanks for reading!</p>
</div>
</div>
</div>

<script type="text/javascript">if (!document.getElementById('mathjaxscript_pelican_#%@#$@#')) {
    var mathjaxscript = document.createElement('script');
    mathjaxscript.id = 'mathjaxscript_pelican_#%@#$@#';
    mathjaxscript.type = 'text/javascript';
    mathjaxscript.src = '//cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML';
    mathjaxscript[(window.opera ? "innerHTML" : "text")] =
        "MathJax.Hub.Config({" +
        "    config: ['MMLorHTML.js']," +
        "    TeX: { extensions: ['AMSmath.js','AMSsymbols.js','noErrors.js','noUndefined.js'], equationNumbers: { autoNumber: 'AMS' } }," +
        "    jax: ['input/TeX','input/MathML','output/HTML-CSS']," +
        "    extensions: ['tex2jax.js','mml2jax.js','MathMenu.js','MathZoom.js']," +
        "    displayAlign: 'center'," +
        "    displayIndent: '0em'," +
        "    showMathMenu: true," +
        "    tex2jax: { " +
        "        inlineMath: [ ['$','$'] ], " +
        "        displayMath: [ ['$$','$$'] ]," +
        "        processEscapes: true," +
        "        preview: 'TeX'," +
        "    }, " +
        "    'HTML-CSS': { " +
        " linebreaks: { automatic: true, width: '95% container' }, " +
        "        styles: { '.MathJax_Display, .MathJax .mo, .MathJax .mi, .MathJax .mn': {color: 'black ! important'} }" +
        "    } " +
        "}); ";
    (document.body || document.getElementsByTagName('head')[0]).appendChild(mathjaxscript);
}
</script>
</div>
    <footer>
<p class="meta">
  <span class="byline author vcard">
    Posted by <span class="fn">
        Chad Gray
    </span>
  </span>
<time datetime="2018-07-09T20:01:00-07:00" pubdate>Mon 09 July 2018</time>  <span class="categories">
    <a class='category' href='https://alphascientist.com/category/blog.html'>Blog</a>
  </span>
  <span class="categories">
    <a class="category" href="https://alphascientist.com/tag/tutorial.html">tutorial</a>,    <a class="category" href="https://alphascientist.com/tag/feature-engineering.html">feature engineering</a>,    <a class="category" href="https://alphascientist.com/tag/pandas.html">pandas</a>  </span>
</p><div class="sharing">
    <div class="fb-like" data-send="true" data-width="450" data-show-faces="false"></div>
</div>    </footer>
  </article>

  <section>
    <h1>Comments</h1>
    <div id="disqus_thread" aria-live="polite"><noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript></div>
  </section>
</div>
<aside class="sidebar">
  <section>
    <h1>Recent Posts</h1>
    <ul id="recent_posts">
      <li class="post">
          <a href="https://alphascientist.com/feature_selection.html">Stock Prediction with ML: Feature Selection</a>
      </li>
      <li class="post">
          <a href="https://alphascientist.com/feature_engineering.html">Stock Prediction with ML: Feature Engineering</a>
      </li>
      <li class="post">
          <a href="https://alphascientist.com/data_management.html">Stock Prediction with ML: Data Management</a>
      </li>
    </ul>
  </section>
  <section>
      
    <h1>Categories</h1>
    <ul id="recent_posts">
        <li><a href="https://alphascientist.com/category/blog.html">Blog</a></li>
    </ul>
  </section>
 

  <section>
  <h1>Tags</h1>
    <a href="https://alphascientist.com/tag/tutorial.html">tutorial</a>,    <a href="https://alphascientist.com/tag/feature-engineering.html">feature engineering</a>,    <a href="https://alphascientist.com/tag/pandas.html">pandas</a>,    <a href="https://alphascientist.com/tag/data.html">data</a>  </section>


    <section>
        <h1>Social</h1>
        <ul>
            <li><a href="https://www.linkedin.com/in/chadgraycfa/" target="_blank">Linkedin</a></li>
            <li><a href="https://twitter.com/data2alpha" target="_blank">Twitter</a></li>
        </ul>
    </section>
    <section>
        <h1>Blogroll</h1>
        <ul>
            <li><a href="http://quantocracy.com/" target="_blank">Quantocracy</a></li>
            <li><a href="https://robotwealth.com/blog/" target="_blank">Robot Wealth</a></li>
            <li><a href="https://www.quantstart.com/articles" target="_blank">QuantStart</a></li>
            <li><a href="http://www.simonouellette.com/" target="_blank">Simon Ouellette</a></li>
            <li><a href="http://www.quantresearch.info/" target="_blank">Marcos Lopez de Prado</a></li>
            <li><a href="http://www.financial-hacker.com" target="_blank">Financial Hacker</a></li>
            <li><a href="http://www.mov37.com/ex-machina/" target="_blank">Ex Machina</a></li>
        </ul>
    </section>

<section>
  <h1>Latest Tweets</h1>
  
  <a class="twitter-timeline" href="https://twitter.com/data2alpha?ref_src=data2alpha">Tweets by data2alpha</a> <script async src="https://platform.twitter.com/widgets.js" charset="utf-8"></script>
  
  <ul id="tweets">
    <li class="loading">Status updating...</li>
  </ul>
  <script type="text/javascript">
    $.domReady(function(){
      var widgetId = 'data2alpha',
          domId = 'tweets',
          count = 5,
          hyperlinkUrlsPlus = true,
          showUserPhoto = false,
          timeOfTweet = true,
          dateFormat = 'default',
          showRetweets = false,
          customOutputFn = null,
          showReplyRetweetButtons = false;

      twitterFetcher.fetch(
        widgetId,
        domId,
        count,
        hyperlinkUrlsPlus,
        showUserPhoto,
        timeOfTweet,
        dateFormat,
        showRetweets,
        customOutputFn,
        showReplyRetweetButtons
      );
    });
  </script>
  <script src="/theme/js/twitter.js" type="text/javascript"> </script>
    <p>Follow <a href="http://twitter.com/data2alpha">@data2alpha</a></p>
</section>
</aside>    </div>
  </div>
  <footer role="contentinfo"><p>
    Copyright &copy;  2018  Chad Gray &mdash;
  <span class="credit">Powered by <a href="http://getpelican.com">Pelican</a></span>
</p></footer>
  <script src="https://alphascientist.com/theme/js/modernizr-2.0.js"></script>
  <script src="https://alphascientist.com/theme/js/ender.js"></script>
  <script src="https://alphascientist.com/theme/js/octopress.js" type="text/javascript"></script>
    <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-121434821-1', 'auto');

    ga('send', 'pageview');
    </script>
  <script type="text/javascript">
    var disqus_shortname = 'alphascientist-com';
    var disqus_identifier = '/feature_engineering.html';
    var disqus_url = 'https://alphascientist.com/feature_engineering.html';
    var disqus_title = 'Stock Prediction with ML: Feature Engineering';
    (function() {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = "//" + disqus_shortname + '.disqus.com/embed.js';
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
     })();
  </script>
<div id="fb-root"></div>
<script>(function(d, s, id) {
  var js, fjs = d.getElementsByTagName(s)[0];
  if (d.getElementById(id)) {return;}
  js = d.createElement(s); js.id = id;
  js.src = "//connect.facebook.net/en_US/all.js#appId=212934732101925&xfbml=1";
  fjs.parentNode.insertBefore(js, fjs);
}(document, 'script', 'facebook-jssdk'));</script>
</body>
</html>